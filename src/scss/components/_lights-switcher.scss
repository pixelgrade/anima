.color-scheme-dark {
  @include variation(darker);
}

.color-scheme-light {
  @include variation(default);
}

.color-scheme-auto {
  @media(prefers-color-scheme: light) {
    @include variation(default);
  }

  @media(prefers-color-scheme: dark) {
    @include variation(darker);
  }
}

.is-lights-button {
  display: flex;
  align-items: center;

  a {
    position: relative;
    text-indent: -9999px;
    width: 1em;
    height: 1em;
    background-color: var(--current-dark-primary);
    border: 2px solid currentColor;
    border-radius: 1em;

    padding-bottom: 0 !important;
    margin-bottom: 0 !important;

    transition: transform .25s $easeInOutCubic;

    &:after {
      content: '';
      position: absolute;
      width: 100%;
      height: 50%;
      left: 0;
      top: 0;
      background-color: var(--current-light-primary);

      border-top-left-radius: 1em;
      border-top-right-radius: 1em;
    }
  }

  .color-scheme-light & {
    a {
      transform: rotate(-45deg);
    }
  }

  .color-scheme-dark & {
    a {
      transform: rotate(135deg);
    }
  }
}

// Adjust logo based on Lights Mode

@include below(lap) {
  .color-scheme-dark {

    .c-logo__default {
      opacity: 0;
    }

    .site-header-mobile--scrolled  {

      .site-header--mobile {

        .c-logo__default {
          opacity: 0;
        }

        .c-logo__inverted {
          opacity: 1;
        }
      }
    }
  }
}


/*
 * Dark Mode
 */

.color-scheme-auto {
  @media(prefers-color-scheme: dark) {

    @include variation(darker);

    .site-header--mobile,
    .c-menu-toggle {
      color: var(--sm-light-primary);
    }

    .site-header--mobile {

      .c-logo__inverted {
        opacity: 1;
      }

      .c-logo__default {
        opacity: 0;
      }
    }

    .c-logo__inverted {
      opacity: 1;
    }

    .novablocks-opentable {
      &.novablocks-opentable__standard[class] {
        .ot-powered-by {
          -webkit-filter: unset;
          mix-blend-mode: unset;
        }
      }

      &.novablocks-opentable__wide[class] {
        .ot-powered-by {
          -webkit-filter: invert(1) saturate(0);
          mix-blend-mode: lighten;
        }
      }
    }

    .is-lights-button a {
        transform: rotate(135deg);
    }

    @include below(lap) {

      .c-logo__default {
        opacity: 0;
      }

      .site-header-mobile--scrolled  {

        .site-header--mobile {

          .c-logo__default {
            opacity: 0;
          }

          .c-logo__inverted {
            opacity: 1;
          }
        }
      }
    }
  }
}

/*
 * Light Mode
 */
.color-scheme-auto {
  @media(prefers-color-scheme: light) {

    .c-logo__inverted {
      opacity: 0;
    }

    .is-lights-button a {
      transform: rotate(-45deg);
    }
  }
}

// Forms General Options

// @todo more semantic for these variables
$color-dark: var(--sm-dark-2) !default;
$color-white: var(--sm-light-1) !default;

$input-color: var(--sm-dark-2) !default;
$input-border-color: var(--sm-light-3) !default;
$input-border-width: .0625em !default;
$input-background-color: var(--sm-light-1) !default;
$input-padding: .8em 1.18em .93em !default;
$input-focus-border-color: var(--sm-dark-1) !default;
$input-focus-background-color: var(--sm-light-1) !default;
$input-border-radius: 0 !default;
$input-disabled-color: var(--sm-dark-2) !default;
$input-disabled-background-color: var(--sm-dark-2) !default;
$input-disabled-border-color: var(--sm-dark-2) !default;

$placeholder-color: var(--sm-dark-2) !default;

$label-color: var(--sm-dark-2) !default;

$legend-color: var(--sm-dark-2) !default;

$button-color: var(--sm-light-1) !default;
$button-background-color: var(--sm-dark-2) !default;

$checkbox-color: var(--sm-dark-2) !default;
$checkbox-background-color: var(--sm-light-1) !default;
$checkbox-width: 1.5rem !default;
$checkbox-height: 1.5rem !default;

// Spacing
$input-vertical-spacing: 1rem !default;
$input-horizontal-spacing: 1rem !default; // Checkboxes and Radios

@mixin field {
    width: 100%;
    max-width: 100%;
    padding: $input-padding;
    border: $input-border-width solid $input-border-color;

    color: $input-color;
    border-radius: $input-border-radius;

    font-family: inherit;
    -webkit-font-smoothing: initial;

    &:focus,
    &:active {
        outline: 0;
        box-shadow: none;
        border-color: $input-focus-border-color;
    }

    &[disabled] {
        border-color: $input-disabled-border-color;
        background-color: $input-disabled-background-color;
    }
}


@mixin input {
    @include field;
}

@mixin textarea {
    @include field;

    min-height: 7.5em;
    resize: vertical;
}

@mixin select {
    @include field;

    padding-right: 3.125em;

    background: $input-background-color url('assets/images/arrow-caret.svg') calc(100% - 17px) center no-repeat;
    background-size: .56em .312em;

    -webkit-appearance: none;
}

@mixin taxonomy-select {
    width: auto;
    background: url('assets/images/select-arrow.svg') 100% center no-repeat;
    background-size: .5em .687em;
    padding: 0 .625em 0 0;
    border: none;

    &::-ms-expand {
        display: none;
    }
}

@mixin label {
    color: $label-color;
    padding-bottom: $input-vertical-spacing;
    margin: 0;

    cursor: pointer;
}

@mixin checkbox {
    position: relative;
    left: 0;

    float: left;
    clear: left;

    border: $input-border-width solid $input-border-color;
    border-radius: $input-border-radius;

    width: $checkbox-width !important;
    height: $checkbox-height !important;
    margin-right: $input-horizontal-spacing;
    margin-bottom: $input-vertical-spacing;

    background-color: $color-white;
    cursor: pointer;

    -webkit-appearance: none;
}

@include placeholder() {
    color: $placeholder-color;
    opacity: .6;
    font-style: italic;
}

input {
    &[type="text"],
    &[type="tel"],
    &[type="number"],
    &[type="date"],
    &[type="email"],
    &[type="password"],
    &[type="url"],
    &[type="search"] {
        @include input;
    }
}

input[type="checkbox"] {
    @include checkbox;

    &:checked {
        border-color: $checkbox-color;
        background: $checkbox-background-color url('assets/images/checkbox.svg') center center no-repeat;
        background-size: 100% 100%;
        outline: 0;
    }
}

input[type="radio"] {
    @include checkbox;
    border-radius: 50%;

    &:checked {
        border: .43em solid $checkbox-color;
        outline: 0;
    }
}

input[type="submit"],
input[type="button"],
button[type="submit"],
button[type="reset"] {
    @include button;
    @include button-outline-vars;
    @include button-fill;
}

input[type="file"] {
    width: 100%;
}

input[type="file"]::-webkit-file-upload-button {
    display: block;
    margin-bottom: 0 !important;
    padding: .75em 1.75em;
    border: 0 solid transparent;
    border-right-width: 1em;
    background-clip: padding-box;
    overflow: visible;

    font-weight: 600;
    text-align: center;

    color: $button-color;
    background-color: $button-background-color;

    vertical-align: middle;
    cursor: pointer;

    &:focus, &:active {
        outline: 0;
        box-shadow: none;
        background-color: $button-background-color;
    }

    &:hover {
        background-color: $color-dark;
    }
}

input.disabled,
input[disabled="disabled"],
input[disabled] {
    background: $input-disabled-background-color;
    border-color: $input-disabled-border-color;
}

textarea {
    @include textarea;
}

select {
    @include select;

    &[multiple] {
        background: none;
        padding-right: .8125em;
    }
}

fieldset {
    border: 0;

    legend {
        color: $legend-color;
        padding: 0 !important;
    }

    > div {
        margin-top: $input-vertical-spacing;
    }
}

// Helper Classes for Humans & Nature
// <div class="form-inline">  <input> <input type="submit">  </div>
.form-inline {
    display: flex;

    input[type="submit"],
    input[type="button"],
    button[type="submit"],
    button[type="reset"] {
        flex-shrink: 0;
        margin-top: 0;
    }
}

.select2-container--default .select2-selection--single {
    border: $input-border-width solid $input-border-color;
    border-radius: $input-border-radius;
    height: auto;

    .select2-selection__rendered {
        padding: $input-padding;
        color: $input-color;
    }

    .select2-selection__placeholder {
        display: block;
    }

    .select2-selection__arrow {
        top: 50%;
        right: 1.18em;
        transform: translate(50%, -50%);
    }
}

.select2-dropdown,
.select2-container--default .select2-search--dropdown .select2-search__field {
    border-color: $input-border-color;
}

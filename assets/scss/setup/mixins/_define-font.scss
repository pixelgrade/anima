$nova-font-props: font-family, font-size, line-height, font-weight, letter-spacing, text-transform;
$nova-font-size-breakpoint: 1200px;
$nova-font-size-minimum-vw: 100vw * $theme-minimum-font-size / $nova-font-size-breakpoint;

:root {
    --theme-minimum-font-size: #{$theme-minimum-font-size};

    //@include above($nova-font-size-breakpoint) {
    //    --theme-minimum-font-size: #{$nova-font-size-minimum-vw};
    //}
}

@mixin define-font($name, $config, $props: $nova-font-props) {

    @at-root {

        :root {

            @each $prop in $props {
            //@each $prop in remove($props, font-size) {
                $value: map-get( $config, $prop );
                @if ( map-get( $config, $prop ) ) {
                    --theme-#{$name}-#{$prop}: #{$value};
                }
            }

            //$diff: map-get($config, font-size) - $theme-minimum-font-size;
            //
            //@include fluid(--theme-#{$name}-font-size-diff, 0px, 0px, $nova-font-size-breakpoint, $diff);
            //
            //--theme-#{$name}-font-size: calc( var(--theme-minimum-font-size) + var(--theme-#{$name}-font-size-diff) );
        }
    }
}

@mixin apply-font($name, $props: $nova-font-props) {

    @each $prop in $props {
        #{$prop}: var(--current-#{$prop});
    }

    @each $prop in $props {
        --current-#{$prop}: var(--theme-#{$name}-#{$prop});
    }
}

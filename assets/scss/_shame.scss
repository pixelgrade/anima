// Keep this as tidy as possible

/* Embeds */
.fb_iframe_widget > span {
    display: block;
    max-width: 100%;
}

iframe.instagram-media {
    max-width: 100% !important;
    min-width: 0 !important;
    margin-right: 0 !important;
}

.is-style-lead {
    @include apply-font(lead);
}

body {
    transition: var(--theme-transition);
    transition-property: opacity;
}

body.is-loading {
    opacity: 0;
}

html:not(.wf-active) {
    pointer-events: none;
}

@mixin avoid-fout-color {
    transition: var(--theme-transition);
    transition-property: color;

    html:not(.wf-active) & {
        color: transparent;
    }
}

@mixin avoid-fout-opacity {
    transition: var(--theme-transition);
    transition-property: opacity;

    html:not(.wf-active) & {
        opacity: 0;
    }
}

// WooCommerce archives cards
.wc-block-grid__product-onsale {
    @include avoid-fout-color;
}

.wc-block-grid__product-title,
.wc-block-grid__product-price {
    @include avoid-fout-opacity;
}

// WooCommerce archives header
.woocommerce-products-header,
.woocommerce-notices-wrapper,
.woocommerce-result-count,
.woocommerce-ordering {
    @include avoid-fout-opacity;
}

// Nova Blocks media card
.novablocks-media__image {
    background-color: var(--sm-light-tertiary);

    .novablocks-media.block-is-moderate & {
        background-color: var(--sm-light-primary);
    }
}

.novablocks-media__inner-container > * {
    @include avoid-fout-opacity;
}

.entry-content,
[class*="__inner-container"] {
    > :not(.wp-block-group):not(.novablocks-media) {
        @include avoid-fout-opacity;
    }
}

// tiny hack for cooler loading of novablocks media
body:not(.wf-active) .novablocks-media .wp-block-group__inner-container > .wp-block {
    opacity: 1;
}

body:not(.has-loaded) .c-comments-toggle__checkbox + .c-comments-toggle__label ~ * {
    display: none;
}

.comments-area {
    @include avoid-fout-opacity;
}

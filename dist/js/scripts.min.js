/*! For license information please see scripts.min.js.LICENSE */
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=21)}([function(e,t){e.exports=jQuery},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(12),i=n(7);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}},function(e,t,n){var r=n(9),i=n(10),o=n(11);e.exports=function(e){return r(e)||i(e)||o()}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var r=n(13);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){var r,i;!function(o){if(void 0===(i="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i),!0,e.exports=o(),!!0){var a=window.Cookies,s=window.Cookies=o();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in o)o[l]&&(s+="; "+l,!0!==o[l]&&(s+="="+o[l].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),l=s.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(s[0]);if(l=(r.read||r)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(e){}if(i[c]=l,e===c)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))}))},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=n(2),l=n.n(s),c=n(4),u=n.n(c),f=n(22),h=n.n(f),d=function(e,t){var n=null;return function(){var r=this,i=arguments,o=function(){e.apply(r,i)};clearTimeout(n),n=setTimeout(o,t)}},p=function(){var e=!1;if("maxTouchPoints"in navigator)e=navigator.maxTouchPoints>0;else if("msMaxTouchPoints"in navigator)e=navigator.msMaxTouchPoints>0;else{var t=window.matchMedia&&matchMedia("(pointer:coarse)");if(t&&"(pointer:coarse)"===t.media)e=!!t.matches;else if("orientation"in window)e=!0;else{var n=navigator.userAgent;e=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(n)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(n)}}return e};function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i()(e);n.css(t),Object.keys(t).forEach((function(e){t[e]=""})),window.requestIdleCallback?window.requestIdleCallback((function(){n.css(t)})):setTimeout((function(){n.css(t)}),0)}var b=function(e){var t=null==e?void 0:e.getAttribute("class");return t?t.split(/\s+/).filter((function(e){return-1!==e.search("sm-palette-")||-1!==e.search("sm-variation-")||-1!==e.search("sm-color-signal-")})):[]},g=function(e,t){var n,r=t.split(/\s+/).filter((function(e){return e.trim().length}));r.length&&(n=e.classList).add.apply(n,u()(r))},m=function(e,t){var n,r=t.split(/\s+/).filter((function(e){return e.trim().length}));r.length&&(n=e.classList).remove.apply(n,u()(r))},y=function(e,t){return e.classList.contains(t)},k=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";m(e,t?r:n),g(e,t?n:r)};function w(e){for(var t=e.firstChild;null!=t&&3===t.nodeType;)t=t.nextSibling;return t}var C=function(e){var t,n,r,i,o=Array.from(e.classList),a=o.find((function(e){return e.indexOf("sm-palette-")>-1&&-1===e.indexOf("sm-palette--")})),s=a?a.substring("sm-palette-".length):1,l=o.find((function(e){return e.indexOf("sm-variation-")>-1})),c=l?l.substring("sm-variation-".length):1,u=(o.find((function(e){return e.indexOf("sm-palette--shifted")>-1})),null===(t=window)||void 0===t?void 0:null===(n=t.style_manager_values)||void 0===n?void 0:n.sm_site_color_variation);u&&parseInt(u,10);if(Array.isArray(null===(r=window)||void 0===r?void 0:null===(i=r.styleManager)||void 0===i?void 0:i.colorsConfig)){var f=window.styleManager.colorsConfig.find((function(e){return"".concat(e.id)==="".concat(s)}));if(f){f.sourceIndex;var d=parseInt(c,10)-1,p=f.variations?f.variations[d].bg:f.colors[d].value,v=h.a.contrast("#FFFFFF",p)<h.a.contrast("#000000",p);k(e,v,"sm-light","sm-dark")}}},_=new(function(){function e(){a()(this,e),this.props={},this.newProps={},this.renderCallbacks=[],this.resizeCallbacks=[],this.observeCallbacks=[],this.scrollCallbacks=[],this.currentMutationList=[],this.frameRendered=!0,this.useOrientation=p()&&"orientation"in window,this._init()}return l()(e,[{key:"_init",value:function(){i()(window);var e=this._updateProps.bind(this),t=this._renderLoop.bind(this);e(),i()(e),this._bindOnResize(),this._bindOnScroll(),this._bindOnLoad(),this._bindObserver(),this._bindCustomizer(),requestAnimationFrame(t)}},{key:"_bindOnResize",value:function(){var e=i()(window),t=this._updateProps.bind(this);this.useOrientation?e.on("orientationchange",(function(){e.one("resize",t)})):e.on("resize",t)}},{key:"_bindOnScroll",value:function(){i()(window).on("scroll",this._updateScroll.bind(this))}},{key:"_bindOnLoad",value:function(){i()(window).on("load",this._updateProps.bind(this))}},{key:"_bindObserver",value:function(){var e=this,t=this._observeCallback.bind(this),n=d((function(){t(),e.currentMutationList=[]}),300);window.MutationObserver&&new MutationObserver((function(t){e.currentMutationList=e.currentMutationList.concat(t),n()})).observe(document.body,{childList:!0,subtree:!0})}},{key:"_bindCustomizer",value:function(){"undefined"!=typeof wp&&void 0!==wp.customize&&(void 0!==wp.customize.selectiveRefresh&&wp.customize.selectiveRefresh.bind("partial-content-rendered",this._updateProps.bind(this)),wp.customize.bind("change",d(this._updateProps.bind(this),100)))}},{key:"_updateProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._updateSize(e),this._updateScroll(e)}},{key:"_observeCallback",value:function(){var e=this.currentMutationList;i.a.each(this.observeCallbacks,(function(t,n){n(e)}))}},{key:"_renderLoop",value:function(){this.frameRendered||(this._renderCallback(),this.frameRendered=!0),window.requestAnimationFrame(this._renderLoop.bind(this))}},{key:"_renderCallback",value:function(){var e=arguments;i.a.each(this.renderCallbacks,(function(t,n){n.apply(void 0,u()(e))}))}},{key:"_resizeCallback",value:function(){var e=arguments;i.a.each(this.resizeCallbacks,(function(t,n){n.apply(void 0,u()(e))}))}},{key:"_scrollCallback",value:function(){var e=arguments;i.a.each(this.scrollCallbacks,(function(t,n){n.apply(void 0,u()(e))}))}},{key:"_updateScroll",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.newProps=Object.assign({},this.newProps,{scrollY:window.pageYOffset,scrollX:window.pageXOffset}),this._shouldUpdate(this._scrollCallback.bind(this))}},{key:"_updateSize",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=document.body,t=document.documentElement,n=Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight),r=Math.max(t.scrollHeight,t.offsetHeight);this.newProps=Object.assign({},this.newProps,{scrollHeight:Math.max(n,r),adminBarHeight:this.getAdminBarHeight(),windowWidth:this.useOrientation&&window.screen&&window.screen.availWidth||window.innerWidth,windowHeight:this.useOrientation&&window.screen&&window.screen.availHeight||window.innerHeight}),this._shouldUpdate(this._resizeCallback.bind(this))}},{key:"_shouldUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(this._hasNewProps()||t)&&(this.props=Object.assign({},this.props,this.newProps),this.newProps={},this.frameRendered=!1,"function"==typeof e&&e())}},{key:"_hasNewProps",value:function(){var e=this;return Object.keys(this.newProps).some((function(t){return e.newProps[t]!==e.props[t]}))}},{key:"getAdminBarHeight",value:function(){var e=document.getElementById("wpadminbar");return e?e.getBoundingClientRect().height:0}},{key:"registerOnResize",value:function(e){"function"==typeof e&&this.resizeCallbacks.indexOf(e)<0&&this.resizeCallbacks.push(e)}},{key:"registerOnScroll",value:function(e){"function"==typeof e&&this.scrollCallbacks.indexOf(e)<0&&this.scrollCallbacks.push(e)}},{key:"registerObserverCallback",value:function(e){"function"==typeof e&&this.observeCallbacks.indexOf(e)<0&&this.observeCallbacks.push(e)}},{key:"registerRender",value:function(e){"function"==typeof e&&this.renderCallbacks.indexOf(e)<0&&this.renderCallbacks.push(e)}},{key:"getProps",value:function(){return this.props}}]),e}()),x=function(){function e(t){var n=this;a()(this,e),this.element=t,this.progress=0,this.timeline=new TimelineMax({paused:!0,onComplete:function(){n.paused=!0}}),this.pieces=this.getMarkupPieces(),this.paused=!1,this.offset=0,this.reduceMotion=!1,this.update(),this.updateOnScroll(),this.init()}return l()(e,[{key:"init",value:function(){var e=this;_.registerOnScroll((function(){e.update()})),_.registerRender((function(){e.updateOnScroll()}));var t=window.matchMedia("(prefers-reduced-motion: reduce)");if(t.addListener((function(){e.reduceMotion=t.matches,e.updateOnScroll()})),this.reduceMotion=t.matches,this.addIntroToTimeline(),this.timeline.addLabel("middle"),this.addOutroToTimeline(),this.timeline.addLabel("end"),this.pauseTimelineOnScroll(),this.reduceMotion){var n=this.timeline.getLabelTime("middle")/this.timeline.getLabelTime("end");this.paused=!0,this.timeline.progress(n)}else this.timeline.play()}},{key:"update",value:function(){var e=_.getProps().scrollY;this.box=this.element.getBoundingClientRect(),this.view={left:this.box.left,top:this.box.top+e,width:this.box.width,height:this.box.height}}},{key:"updateOnScroll",value:function(){var e=_.getProps(),t=e.scrollY,n=e.scrollHeight,r=e.windowHeight,i=.5*r,o=n-r-.5*i,a=this.view.top+.5*(this.box.height-r),s=Math.max(0,Math.min(a,o));if(this.start=s-.5*i,this.end=this.start+i,this.progress=(t-this.start)/(this.end-this.start),this.reduceMotion){var l=this.timeline.getLabelTime("middle")/this.timeline.getLabelTime("end");this.progress=l}this.updateTimelineOnScroll()}},{key:"updateTimelineOnScroll",value:function(){if(this.paused){var e=this.timeline.progress(),t=this.timeline.getLabelTime("middle")/this.timeline.getLabelTime("end"),n=2*(this.progress-.5)*(1-t)+t;e!==(n=Math.min(Math.max(t,n),1))&&this.timeline.progress(n)}}},{key:"getMarkupPieces",value:function(){var e=jQuery(this.element).find(".novablocks-hero__inner-container"),t=e.children().filter(".c-headline").first(),n=t.find(".c-headline__primary"),r=t.find(".c-headline__secondary"),i=t.next(".wp-block-separator"),o=i.find(".c-separator__symbol"),a=i.find(".c-separator__line"),s=i.find(".c-separator__arrow"),l=t.prevAll(),c=t.length?t.nextAll().not(i):e.children();return{headline:t,title:n,subtitle:r,separator:i,sepFlower:o,sepLine:a,sepArrow:s,othersBefore:l,othersAfter:c}}},{key:"addIntroToTimeline",value:function(){var e=this.timeline,t=_.getProps().windowWidth,n=this.pieces,r=n.headline,i=n.title,o=n.subtitle,a=n.separator,s=n.sepFlower,l=n.sepLine,c=n.sepArrow,f=n.othersBefore,h=n.othersAfter;i.length&&i.text().trim().length&&(this.splitTitle=new SplitText(i,{wordsClass:"c-headline__word"}),this.splitTitle.lines.forEach((function(n){var r=Array.from(n.children),i=[];r.forEach((function(e){i.push.apply(i,u()(e.children))})),i.forEach((function(n){var r=n.getBoundingClientRect(),o=(n.offsetWidth,2*(r.x-t/2)/t),a=400*i.length*o;e.from(n,.72,{x:a,ease:Expo.easeOut},0)}))})),e.fromTo(i,.89,{opacity:0},{opacity:1,ease:Expo.easeOut},0),e.fromTo(r,1,{y:30},{y:0,ease:Expo.easeOut},0)),o.length&&(e.fromTo(o,.65,{opacity:0},{opacity:1,ease:Quint.easeOut},"-=0.65"),e.fromTo(o,.9,{y:30},{y:0,ease:Quint.easeOut},"-=0.65")),a.length&&(s.length&&(e.fromTo(s,.15,{opacity:0},{opacity:1,ease:Quint.easeOut},"-=0.6"),e.fromTo(s,.55,{rotation:-270},{rotation:0,ease:Back.easeOut},"-=0.5")),l.length&&(e.fromTo(l,.6,{width:0},{width:"42%",opacity:1,ease:Quint.easeOut},"-=0.55"),e.fromTo(a,.6,{width:0},{width:"100%",opacity:1,ease:Quint.easeOut},"-=0.6")),c.length&&e.fromTo(c,.2,{opacity:0},{opacity:1,ease:Quint.easeOut},"-=0.27")),h.length&&(e.fromTo(h,.5,{opacity:0},{opacity:1,ease:Quint.easeOut},"-=0.28"),e.fromTo(h,.75,{y:-20},{y:0},"-=0.5")),f.length&&(e.fromTo(f,.5,{opacity:0},{opacity:1,ease:Quint.easeOut},"-=0.75"),e.fromTo(f,.75,{y:20},{y:0},"-=0.75")),this.timeline=e}},{key:"addOutroToTimeline",value:function(){var e=this.pieces,t=e.title,n=e.subtitle,r=e.othersBefore,i=e.othersAfter,o=e.separator,a=e.sepLine,s=e.sepFlower,l=e.sepArrow,c=this.timeline;c.fromTo(t,1.08,{y:0},{opacity:0,y:-60,ease:Quad.easeIn},"middle"),c.to(n,1.08,{opacity:0,y:-90,ease:Quad.easeIn},"middle"),c.to(r,1.08,{y:60,opacity:0,ease:Quad.easeIn},"middle"),c.to(i,1.08,{y:60,opacity:0,ease:Quad.easeIn},"middle"),c.to(a,.86,{width:"0%",opacity:0,ease:Quad.easeIn},"-=0.94"),c.to(o,.86,{width:"0%",opacity:0,ease:Quad.easeIn},"-=0.86"),c.to(s,1,{rotation:180},"-=1.08"),c.to(s,.11,{opacity:0},"-=0.03"),c.to(l,.14,{opacity:0},"-=1.08"),this.timeline=c}},{key:"revertTitle",value:function(){void 0!==this.splitTitle&&this.splitTitle.revert()}},{key:"pauseTimelineOnScroll",value:function(){var e=this,t=this.timeline.getLabelTime("middle"),n=this.timeline.getLabelTime("end");this.timeline.eventCallback("onUpdate",(function(r){var i=r.time(),o=i>t,a=.5*((i-t)/(n-t))+.5>=e.progress;o&&a&&(r.pause(),e.revertTitle(),e.timeline.eventCallback("onUpdate",null),e.paused=!0)}),["{self}"])}}]),e}(),O=function(){function e(t){a()(this,e),this.$element=i()(t),this.$checkbox=this.$element.find(".c-comments-toggle__checkbox"),this.$content=this.$element.find(".comments-area__content"),this.$contentWrap=this.$element.find(".comments-area__wrap"),this.$contentWrap.css("display","block"),this.$checkbox.on("change",this.onChange.bind(this)),this.checkWindowLocationComments()}return l()(e,[{key:"onChange",value:function(){this.toggle(!1)}},{key:"toggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.$contentWrap,n=this.$checkbox.prop("checked"),r=n?this.$content.outerHeight():0;e?t.css("height",r):TweenMax.to(t,.4,{height:r,onComplete:function(){n&&t.css("height","")}})}},{key:"checkWindowLocationComments",value:function(){-1===window.location.href.indexOf("#comment")&&(this.$checkbox.prop("checked",!1),this.toggle(!0))}}]),e}(),M=n(3),S=n.n(M),P=n(5),T=n.n(P),z=n(7),B=n.n(z),R=n(6),A=n.n(R),E=new(function(){function e(){a()(this,e),this.breakpoints={mobile:"480px",tablet:"768px",lap:"1024px",desktop:"1440px"},this.above={},this.below={},_.registerOnResize(this.onResize.bind(this)),this.onResize()}return l()(e,[{key:"onResize",value:function(){var e=this;Object.keys(this.breakpoints).forEach((function(t){var n=e.breakpoints[t];e.above[t]=!!window.matchMedia("not screen and (min-width: ".concat(n,")")).matches,e.below[t]=!!window.matchMedia("not screen and (min-width: ".concat(n,")")).matches}))}}]),e}()),I=function(){function e(t){a()(this,e),this.staticDistance=0,this.stickyDistance=0,this.options=t||{}}return l()(e,[{key:"initialize",value:function(){g(this.element,"novablocks-header--ready"),_.registerRender(this.render.bind(this)),_.registerOnResize(this.onResize.bind(this))}},{key:"onResize",value:function(){this.box=this.element.getBoundingClientRect(),"function"==typeof this.options.onResize&&this.options.onResize()}},{key:"getHeight",value:function(){var e;return null==this?void 0:null===(e=this.box)||void 0===e?void 0:e.height}},{key:"render",value:function(e){this.maybeUpdateStickyStyles(e)}},{key:"maybeUpdateStickyStyles",value:function(e){var t=_.getProps().scrollY>this.staticDistance-this.stickyDistance;(this.shouldBeSticky!==t||e)&&(this.shouldBeSticky=t,this.updateStickyStyles())}},{key:"updateStickyStyles",value:function(){this.applyStickyStyles(this.element)}},{key:"applyStickyStyles",value:function(e){this.shouldBeSticky?(e.style.position="fixed",e.style.top="".concat(this.stickyDistance,"px")):(e.style.position="absolute",e.style.top="".concat(this.staticDistance,"px"))}}]),e}(),H=function(){function e(t,n,r){a()(this,e),this.element=t,this.initialColorsSource=n||t,this.transparentColorsSource=r||this.getFirstUsefulBlock(),this.initializeColors()}return l()(e,[{key:"getFirstBlock",value:function(){var e=document.querySelector(".site-main .hentry");if(!e)return null;var t=w(e);if(y(t,"nb-sidecar")){var n=t.querySelector(".nb-sidecar-area--content");return n?w(n):t}return null}},{key:"getFirstUsefulBlock",value:function(){var e=this.getFirstBlock();if(!e)return null;var t=e.dataset;return y(e,"alignfull")?y(e,"supernova")&&0===parseInt(t.imagePadding,10)&&"stacked"===t.cardLayout?e.querySelector(".supernova-item"):e.querySelector(".novablocks-block")||e:null}},{key:"initializeColors",value:function(){this.initialColorClasses=b(this.initialColorsSource).join(" "),this.transparentColorClasses=this.initialColorClasses,this.transparentColorsSource?this.transparentColorClasses=b(this.transparentColorsSource).join(" "):this.transparentColorClasses="sm-palette-1 sm-variation-1",this.transparentColorClasses="".concat(this.transparentColorClasses)}},{key:"toggleColors",value:function(e){k(this.element,e,this.transparentColorClasses,this.initialColorClasses),C(this.element)}}]),e}(),N=function(){function e(t,n){a()(this,e);var r=t.getAttribute("id"),i=document.querySelectorAll('[for="'.concat(r,'"]')),o={onChange:this.onChange};this.options=Object.assign({},o,n),this.input=t,this.element=i.length?i[0]:null,this.bindEvents()}return l()(e,[{key:"bindEvents",value:function(){var e=this;this.input.addEventListener("change",(function(t){e.options.onChange.call(e,t,e)}))}},{key:"onChange",value:function(e,t){}},{key:"getHeight",value:function(){var e;return(null==this?void 0:null===(e=this.element)||void 0===e?void 0:e.offsetHeight)||0}}]),e}(),L=function(e){function t(e){var n;return a()(this,t),(n=S()(this,T()(t).call(this))).parent=e,n.parentContainer=e.element.querySelector(".novablocks-header__inner-container"),n.initialize(),n.onResize(),n}return A()(t,e),l()(t,[{key:"initialize",value:function(){this.initializeMenuToggle(),this.createMobileHeader();var e=this.parent.rows.find((function(e){return e.element.querySelector(".site-logo")}));this.headerClasses=b(this.parent.element).join(" "),this.colors=new H(this.element,null==e?void 0:e.element),this.menuToggleColors=new H(this.menuToggle.element,null==e?void 0:e.element),I.prototype.initialize.call(this)}},{key:"render",value:function(e){I.prototype.render.call(this,e)}},{key:"initializeMenuToggle",value:function(){var e=document.getElementById("nova-menu-toggle");this.navigationIsOpen=e.checked,this.menuToggle=new N(e,{onChange:this.onToggleChange.bind(this)})}},{key:"createMobileHeader",value:function(){this.element=document.createElement("div"),this.element.setAttribute("class","novablocks-header--mobile novablocks-header-background novablocks-header-shadow"),this.copyElementFromParent(".c-branding"),this.copyElementFromParent(".menu-item--cart"),this.menuToggle.element.insertAdjacentElement("afterend",this.element),this.createButtonMenu()}},{key:"createButtonMenu",value:function(){var e=this,t=0;this.buttonMenu=document.createElement("ul"),g(this.buttonMenu,"menu menu--buttons");if([".menu-item--search",".menu-item--dark-mode"].forEach((function(n){var r=e.parent.element.querySelector(n);if(r){var i=r.cloneNode(!0);e.buttonMenu.appendChild(i),t+=1}})),t){var n=document.createElement("div"),r=document.createElement("div");g(n,"wp-block-novablocks-navigation"),g(r,"novablocks-header__buttons-menu wp-block-group__inner-container"),r.appendChild(n),n.appendChild(this.buttonMenu),this.parent.element.appendChild(r)}}},{key:"updateStickyStyles",value:function(){I.prototype.updateStickyStyles.call(this),this.applyStickyStyles(this.menuToggle.element),this.colors.toggleColors(!this.shouldBeSticky),this.updateToggleClasses()}},{key:"onResize",value:function(){I.prototype.onResize.call(this),this.update()}},{key:"update",value:function(){this.element.style.top="".concat(this.stickyDistance,"px"),this.menuToggle.element.style.height="".concat(this.box.height,"px"),this.parentContainer.style.paddingTop="".concat(this.box.height,"px"),this.buttonMenu.style.height="".concat(this.box.height,"px")}},{key:"onToggleChange",value:function(e,t){var n=e.target.checked;document.body.style.overflow=n?"hidden":"",this.navigationIsOpen=!!n,this.updateToggleClasses()}},{key:"updateToggleClasses",value:function(){this.navigationIsOpen?(m(this.menuToggle.element,"".concat(this.menuToggleColors.transparentColorClasses," ").concat(this.menuToggleColors.initialColorClasses)),g(this.menuToggle.element,this.headerClasses)):(m(this.menuToggle.element,this.headerClasses),this.menuToggleColors.toggleColors(!this.shouldBeSticky))}},{key:"copyElementFromParent",value:function(e){var t=this.parent.element.querySelector(e),n=null==t?void 0:t.cloneNode(!0);n&&this.element.appendChild(n)}}]),t}(I),F=function(e){function t(e){var n;return a()(this,t),(n=S()(this,T()(t).call(this))).element=e,n.colors=new H(n.element),n}return A()(t,e),t}(I),j=function(e){function t(e,n){var r;return a()(this,t),r=S()(this,T()(t).call(this,n)),e?(r.onUpdate=n.onUpdate,r.element=e,r.rows=r.getHeaderRows(),r.shouldToggleColors=!!r.element.dataset.sticky,r.mobileHeader=new L(B()(r)),r.secondaryHeader=r.getSecondaryHeader(),r.initialize(),r.toggleRowsColors(!0),g(r.element,"novablocks-header--transparent"),r.secondaryHeader&&g(r.secondaryHeader,"novablocks-header--ready"),r.onResize(),r):S()(r)}return A()(t,e),l()(t,[{key:"initialize",value:function(){I.prototype.initialize.call(this),this.timeline=this.getIntroTimeline(),this.timeline.play()}},{key:"render",value:function(e){I.prototype.render.call(this,e),"function"==typeof this.onUpdate&&this.onUpdate()}},{key:"getHeight",value:function(){return E.below.lap?this.mobileHeader.getHeight():I.prototype.getHeight.call(this)}},{key:"onResize",value:function(){I.prototype.onResize.call(this),v(this.element,{transition:"none"})}},{key:"getSecondaryHeader",value:function(){return document.querySelector(".novablocks-header--secondary")}},{key:"getHeaderRows",value:function(){var e=this.element.querySelectorAll(".novablocks-header-row");return e?Array.from(e).map((function(e){return new F(e)})):[]}},{key:"toggleRowsColors",value:function(e){this.rows.forEach((function(t){t.colors.toggleColors(e)}))}},{key:"updateStickyStyles",value:function(){I.prototype.updateStickyStyles.call(this),this.shouldToggleColors&&this.toggleRowsColors(!this.shouldBeSticky),this.element.style.marginTop="".concat(this.staticDistance,"px"),this.secondaryHeader&&(this.secondaryHeader.style.top="".concat(this.staticDistance,"px"))}},{key:"getIntroTimeline",value:function(){var e=this,t=new TimelineMax({paused:!0}),n=this.element.offsetHeight,r=Power4.easeInOut;return t.to(this.element,.5,{opacity:1,ease:r},0),t.to({height:0},.5,{height:n,onUpdate:function(t){e.box=Object.assign({},e.box,{height:t.target.height}),e.onResize()},onUpdateParams:["{self}"],ease:r},0),t}}]),t}(I),U=n(8),q=n.n(U),D=function(){function e(t,n){a()(this,e),this.element=t,this.parent=n.parent||null,this.transitionDuration=n.transitionDuration||.5,this.transitionEasing=n.transitionEasing||Power4.easeOut,this.pieces=this.getPieces(),this.id=i()(t).data("id"),this.cookieName="novablocks-announcement-"+this.id+"-disabled",this.height=0;var r=q.a.get(this.cookieName),o=i()("body").hasClass("logged-in");!r||o?(this.onResize(),_.registerOnResize(this.onResize.bind(this)),this.timeline.play(),this.bindEvents()):i()(t).remove()}return l()(e,[{key:"onResize",value:function(){var e=0,t=!1,n=!1;void 0!==this.timeline&&(e=this.timeline.progress(),t=this.timeline.isActive(),n=this.timeline.reversed(),this.timeline.clear(),this.timeline.kill(),this.pieces.wrapper.css("height","")),this.timeline=this.getTimeline(),this.timeline.progress(e),this.timeline.reversed(n),t&&this.timeline.resume()}},{key:"getPieces",value:function(){var e=i()(this.element);return{element:e,wrapper:e.find(".novablocks-announcement-bar__wrapper"),content:e.find(".novablocks-announcement-bar__content"),close:e.find(".novablocks-announcement-bar__close")}}},{key:"getTimeline",value:function(){var e=this.transitionDuration,t=this.transitionEasing,n=this.pieces,r=n.element,i=n.wrapper,o=(n.content,n.close,new TimelineMax({paused:!0})),a=i.outerHeight();return o.fromTo(r,e,{height:0},{height:a,ease:t},0),o.to({height:0},e,{height:a,onUpdate:this.onHeightUpdate.bind(this),onUpdateParams:["{self}"],ease:t},0),o}},{key:"bindEvents",value:function(){this.pieces.close.on("click",this.onClose.bind(this))}},{key:"onClose",value:function(){void 0!==this.timeline&&this.timeline.reverse()}},{key:"onHeightUpdate",value:function(e){this.height=e.target.height,this.parent&&this.parent.update()}}]),e}(),$=function(){function e(t,n){var r=this;a()(this,e);var i=t.querySelectorAll(".novablocks-announcement-bar"),o=Array.from(i);this.element=t,this.bars=o.map((function(e){return new D(e,{parent:r,transitionDuration:.5,transitionEasing:Power4.easeInOut})})),this.height=0,this.onUpdate=n.onUpdate,this.offset=n.offset||0,this.update()}return l()(e,[{key:"update",value:function(){var e=0;this.bars.forEach((function(t){e+=t.height})),this.height=e,this.element.style.top="".concat(this.offset,"px"),"function"==typeof this.onUpdate&&this.onUpdate(this)}}]),e}(),W=".menu-item, .page_item",G=".menu-item-has-children, .page_item_has_children",Q="hover",Y=function(){function e(){a()(this,e),this.$menuItems=i()(W),this.$menuItemsWithChildren=this.$menuItems.filter(G).removeClass(Q),this.$menuItemsWithChildrenLinks=this.$menuItemsWithChildren.children("a"),this.initialize()}return l()(e,[{key:"initialize",value:function(){this.onResize(),this.initialized=!0,_.registerOnResize(this.onResize.bind(this))}},{key:"onResize",value:function(){if(!E.below.lap)return this.addSubMenusLeftClass(),this.initialized&&!this.desktop&&this.unbindClick(),this.initialized&&this.desktop||this.bindHoverIntent(),void(this.desktop=!0);this.removeSubMenusLeftClass(),this.initialized&&this.desktop&&this.unbindHoverIntent(),this.initialized&&!this.desktop||this.bindClick(),this.desktop=!1}},{key:"addSubMenusLeftClass",value:function(){var e=_.getProps().windowWidth;this.$menuItemsWithChildren.each((function(t,n){var r=i()(n),o=r.children(".sub-menu, .children"),a=o.outerWidth(),s=o.offset();e-s.left<a&&r.addClass("has-submenu-left")}))}},{key:"removeSubMenusLeftClass",value:function(){this.$menuItemsWithChildren.removeClass("has-submenu-left")}},{key:"onClickMobile",value:function(e){var t=i()(this),n=t.parent().siblings().not(t);t.is(".active")||(e.preventDefault(),t.addClass("active").parent().addClass(Q),n.removeClass(Q),n.find(".active").removeClass("active"))}},{key:"bindClick",value:function(){this.$menuItemsWithChildrenLinks.on("click",this.onClickMobile)}},{key:"unbindClick",value:function(){this.$menuItemsWithChildrenLinks.off("click",this.onClickMobile)}},{key:"bindHoverIntent",value:function(){this.$menuItems.hoverIntent({out:function(){i()(this).removeClass(Q)},over:function(){i()(this).addClass(Q)},timeout:200})}},{key:"unbindHoverIntent",value:function(){this.$menuItems.off("mousemove.hoverIntent mouseenter.hoverIntent mouseleave.hoverIntent"),delete this.$menuItems.hoverIntent_t,delete this.$menuItems.hoverIntent_s}}]),e}(),V=function(e){function t(){var e;return a()(this,t),(e=S()(this,T()(t).call(this))).$searchOverlay=i()(".c-search-overlay"),e.initialize(),e.onResize(),e}return A()(t,e),l()(t,[{key:"initialize",value:function(){i()(document).on("click",".menu-item--search a",this.openSearchOverlay),i()(document).on("click",".c-search-overlay__cancel",this.closeSearchOverlay),i()(document).on("keydown",this.closeSearchOverlayOnEsc)}},{key:"onResize",value:function(){v(this.$searchOverlay,{transition:"none"})}},{key:"openSearchOverlay",value:function(e){e.preventDefault(),i()("body").toggleClass("has-search-overlay"),i()(".c-search-overlay__form .search-field").focus()}},{key:"closeSearchOverlayOnEsc",value:function(e){27===e.keyCode&&(i()("body").removeClass("has-search-overlay"),i()(".c-search-overlay__form .search-field").blur())}},{key:"closeSearchOverlay",value:function(e){e.preventDefault(),i()("body").removeClass("has-search-overlay")}}]),t}(function(){function e(){a()(this,e),_.registerOnResize(this.onResize.bind(this))}return l()(e,[{key:"onResize",value:function(){}}]),e}()),X=function(){function e(){a()(this,e),this.adminBar=document.getElementById("wpadminbar"),this.adminBarFixed=!1,this.promoBarFixed=!1,this.adminBarHeight=0,this.updateAdminBarProps(),this.enableFirstBlockPaddingTop=i()("body").hasClass("has-novablocks-header-transparent"),this.initializeHero(),this.initializeHeader(),this.initializeLogo(),this.initializeNavbar(),this.searchOverlay=new V,this.initializePromoBar(),this.initializeImages(),this.initializeCommentsArea(),this.initializeReservationForm(),window.addEventListener("resize",this.onResize.bind(this))}return l()(e,[{key:"onResize",value:function(){var e;this.updateAdminBarProps(),this.updatePromoBarProps(),this.promoBar?(this.promoBar.offset=this.adminBarHeight,this.promoBar.update()):this.onPromoBarUpdate(),(null==this?void 0:null===(e=this.header)||void 0===e?void 0:e.mobileHeader)&&(this.header.mobileHeader.top=this.adminBarHeight)}},{key:"initializeImages",value:function(){var e=this.showLoadedImages.bind(this);e(),_.registerObserverCallback((function(t){i.a.each(t,(function(t,n){i.a.each(n.addedNodes,(function(t,n){("img"===(n.nodeName&&n.nodeName.toLowerCase())||n.childNodes.length)&&e(n)}))}))}))}},{key:"initializeLogo",value:function(){document.querySelectorAll('[class*="sm-palette"]').forEach(C)}},{key:"initializeReservationForm",value:function(){_.registerObserverCallback((function(e){i.a.each(e,(function(e,t){i.a.each(t.addedNodes,(function(e,t){var n=i()(t);n.is("#ot-reservation-widget")&&n.closest(".novablocks-opentable").addClass("is-loaded")}))}))}))}},{key:"updateAdminBarProps",value:function(){if(this.adminBar){this.adminBarHeight=this.adminBar.offsetHeight;var e=window.getComputedStyle(this.adminBar);this.adminBarFixed="fixed"===e.getPropertyValue("position")}}},{key:"showLoadedImages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,t=i()(e).find("img").not("[srcset], .is-loaded, .is-broken");t.imagesLoaded().progress((function(e,t){var n=t.isLoaded?"is-loaded":"is-broken";i()(t.img).addClass(n)}))}},{key:"initializeHero",value:function(){var e=document.getElementsByClassName("novablocks-hero"),t=Array.from(e);this.HeroCollection=t.map((function(e){return new x(e)})),this.firstHero=t[0]}},{key:"initializeCommentsArea",value:function(){var e=i()(".comments-area");e.length&&(this.commentsArea=new O(e.get(0)))}},{key:"initializeHeader",value:function(){var e=this,t=document.querySelector(".novablocks-header"),n=document.querySelector(".novablocks-header--secondary");n&&new ResizeObserver((function(e){document.documentElement.style.setProperty("--theme-sticky-header-height","".concat(n.offsetHeight,"px"))})).observe(n);t&&(this.header=new j(t,{onResize:function(){requestAnimationFrame(e.onHeaderUpdate.bind(e))}}))}},{key:"initializeNavbar",value:function(){this.navbar=new Y}},{key:"initializePromoBar",value:function(){var e=document.querySelector(".promo-bar");e?(this.promoBar=new $(e,{offset:this.adminBarHeight,onUpdate:this.onPromoBarUpdate.bind(this)}),this.updatePromoBarProps()):this.onPromoBarUpdate()}},{key:"updatePromoBarProps",value:function(){if(this.promoBar){var e=window.getComputedStyle(this.promoBar.element);this.promoBarFixed="fixed"===e.getPropertyValue("position")}}},{key:"onPromoBarUpdate",value:function(){var e=this.header,t=this.HeroCollection,n=this.promoBar?this.promoBar.height:0,r=(this.adminBarFixed?this.adminBarHeight:0)+(this.promoBarFixed?n:0),i=this.adminBarHeight+n;document.documentElement.style.setProperty("--theme-sticky-distance","".concat(r,"px")),e&&(e.stickyDistance=r,e.staticDistance=i,e.render(!0),e.mobileHeader.stickyDistance=r,e.mobileHeader.staticDistance=i,e.mobileHeader.render(!0)),t.forEach((function(e){e.offset=n,e.updateOnScroll()})),this.onHeaderUpdate()}},{key:"onHeaderUpdate",value:function(){var e,t;if(!this.enableFirstBlockPaddingTop)return!1;var n=(null===(e=this.promoBar)||void 0===e?void 0:e.height)||0,r=(null===(t=this.header)||void 0===t?void 0:t.getHeight())||0,o=i()("body");if(document.documentElement.style.setProperty("--theme-header-height","".concat(r,"px")),o.is(".has-no-spacing-top")){var a=i()(".site-main .hentry"),s=J(a);if(s.is(".supernova")){var l=s.data(),c=s.find(".nb-collection__header"),u=s;return c.length||0!==l.imagePadding||"stacked"!==l.cardLayout||(u=s.find(".supernova-item__inner-container"),"carousel"!==l.layoutStyle&&(u=u.first())),void Z(u,r+n)}if(s.is(".novablocks-hero, .novablocks-slideshow")){var f=s.find(".novablocks-doppler__foreground");return void Z(f,r+n)}Z(s,r+n)}else o.find(".site-content").css("marginTop","".concat(n+r,"px"))}}]),e}(),J=function e(t){var n=t.children().first();return n.is(".nb-sidecar")&&n.find(".nb-sidecar-area--content").children().length?e(n.find(".nb-sidecar-area--content")):n},Z=function(e,t){e.each((function(e,n){var r=i()(n),o=K(r);r.css("paddingTop",o+t)}))},K=function(e){return parseInt(e.css("paddingTop","").css("paddingTop"),10)||0};function ee(){new X}i()((function(){var e=i()(window);i()("html").is(".wf-active")?ee():e.on("wf-active",ee)}))},function(e,t,n){e.exports=function(){"use strict";for(var e=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e<t?t:e>n?n:e},t={},n=0,r=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];n<r.length;n+=1){var i=r[n];t["[object "+i+"]"]=i.toLowerCase()}var o=function(e){return t[Object.prototype.toString.call(e)]||"object"},a=Math.PI,s={clip_rgb:function(t){t._clipped=!1,t._unclipped=t.slice(0);for(var n=0;n<=3;n++)n<3?((t[n]<0||t[n]>255)&&(t._clipped=!0),t[n]=e(t[n],0,255)):3===n&&(t[n]=e(t[n],0,1));return t},limit:e,type:o,unpack:function(e,t){return void 0===t&&(t=null),e.length>=3?Array.prototype.slice.call(e):"object"==o(e[0])&&t?t.split("").filter((function(t){return void 0!==e[0][t]})).map((function(t){return e[0][t]})):e[0]},last:function(e){if(e.length<2)return null;var t=e.length-1;return"string"==o(e[t])?e[t].toLowerCase():null},PI:a,TWOPI:2*a,PITHIRD:a/3,DEG2RAD:a/180,RAD2DEG:180/a},l={format:{},autodetect:[]},c=s.last,u=s.clip_rgb,f=s.type,h=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=this;if("object"===f(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var r=c(e),i=!1;if(!r){i=!0,l.sorted||(l.autodetect=l.autodetect.sort((function(e,t){return t.p-e.p})),l.sorted=!0);for(var o=0,a=l.autodetect;o<a.length;o+=1){var s=a[o];if(r=s.test.apply(s,e))break}}if(!l.format[r])throw new Error("unknown format: "+e);var h=l.format[r].apply(null,i?e:e.slice(0,-1));n._rgb=u(h),3===n._rgb.length&&n._rgb.push(1)};h.prototype.toString=function(){return"function"==f(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var d=h,p=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(p.Color,[null].concat(e)))};p.Color=d,p.version="2.1.2";var v=p,b=s.unpack,g=Math.max,m=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=b(e,"rgb"),r=n[0],i=n[1],o=n[2],a=1-g(r/=255,g(i/=255,o/=255)),s=a<1?1/(1-a):0,l=(1-r-a)*s,c=(1-i-a)*s,u=(1-o-a)*s;return[l,c,u,a]},y=s.unpack,k=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=y(e,"cmyk"))[0],r=e[1],i=e[2],o=e[3],a=e.length>4?e[4]:1;return 1===o?[0,0,0,a]:[n>=1?0:255*(1-n)*(1-o),r>=1?0:255*(1-r)*(1-o),i>=1?0:255*(1-i)*(1-o),a]},w=s.unpack,C=s.type;d.prototype.cmyk=function(){return m(this._rgb)},v.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["cmyk"])))},l.format.cmyk=k,l.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=w(e,"cmyk"),"array"===C(e)&&4===e.length)return"cmyk"}});var _=s.unpack,x=s.last,O=function(e){return Math.round(100*e)/100},M=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=_(e,"hsla"),r=x(e)||"lsa";return n[0]=O(n[0]||0),n[1]=O(100*n[1])+"%",n[2]=O(100*n[2])+"%","hsla"===r||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,r="hsla"):n.length=3,r+"("+n.join(",")+")"},S=s.unpack,P=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=S(e,"rgba"))[0],r=e[1],i=e[2];n/=255,r/=255,i/=255;var o,a,s=Math.min(n,r,i),l=Math.max(n,r,i),c=(l+s)/2;return l===s?(o=0,a=Number.NaN):o=c<.5?(l-s)/(l+s):(l-s)/(2-l-s),n==l?a=(r-i)/(l-s):r==l?a=2+(i-n)/(l-s):i==l&&(a=4+(n-r)/(l-s)),(a*=60)<0&&(a+=360),e.length>3&&void 0!==e[3]?[a,o,c,e[3]]:[a,o,c]},T=s.unpack,z=s.last,B=Math.round,R=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=T(e,"rgba"),r=z(e)||"rgb";return"hsl"==r.substr(0,3)?M(P(n),r):(n[0]=B(n[0]),n[1]=B(n[1]),n[2]=B(n[2]),("rgba"===r||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,r="rgba"),r+"("+n.slice(0,"rgb"===r?3:4).join(",")+")")},A=s.unpack,E=Math.round,I=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];var r,i,o,a=(t=A(t,"hsl"))[0],s=t[1],l=t[2];if(0===s)r=i=o=255*l;else{var c=[0,0,0],u=[0,0,0],f=l<.5?l*(1+s):l+s-l*s,h=2*l-f,d=a/360;c[0]=d+1/3,c[1]=d,c[2]=d-1/3;for(var p=0;p<3;p++)c[p]<0&&(c[p]+=1),c[p]>1&&(c[p]-=1),6*c[p]<1?u[p]=h+6*(f-h)*c[p]:2*c[p]<1?u[p]=f:3*c[p]<2?u[p]=h+(f-h)*(2/3-c[p])*6:u[p]=h;r=(e=[E(255*u[0]),E(255*u[1]),E(255*u[2])])[0],i=e[1],o=e[2]}return t.length>3?[r,i,o,t[3]]:[r,i,o,1]},H=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,N=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,L=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,F=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,j=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,U=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,q=Math.round,D=function(e){var t;if(e=e.toLowerCase().trim(),l.format.named)try{return l.format.named(e)}catch(e){}if(t=e.match(H)){for(var n=t.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(t=e.match(N)){for(var i=t.slice(1,5),o=0;o<4;o++)i[o]=+i[o];return i}if(t=e.match(L)){for(var a=t.slice(1,4),s=0;s<3;s++)a[s]=q(2.55*a[s]);return a[3]=1,a}if(t=e.match(F)){for(var c=t.slice(1,5),u=0;u<3;u++)c[u]=q(2.55*c[u]);return c[3]=+c[3],c}if(t=e.match(j)){var f=t.slice(1,4);f[1]*=.01,f[2]*=.01;var h=I(f);return h[3]=1,h}if(t=e.match(U)){var d=t.slice(1,4);d[1]*=.01,d[2]*=.01;var p=I(d);return p[3]=+t[4],p}};D.test=function(e){return H.test(e)||N.test(e)||L.test(e)||F.test(e)||j.test(e)||U.test(e)};var $=D,W=s.type;d.prototype.css=function(e){return R(this._rgb,e)},v.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["css"])))},l.format.css=$,l.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===W(e)&&$.test(e))return"css"}});var G=s.unpack;l.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=G(e,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},v.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["gl"])))},d.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var Q=s.unpack,Y=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r=Q(e,"rgb"),i=r[0],o=r[1],a=r[2],s=Math.min(i,o,a),l=Math.max(i,o,a),c=l-s,u=100*c/255,f=s/(255-c)*100;return 0===c?n=Number.NaN:(i===l&&(n=(o-a)/c),o===l&&(n=2+(a-i)/c),a===l&&(n=4+(i-o)/c),(n*=60)<0&&(n+=360)),[n,u,f]},V=s.unpack,X=Math.floor,J=function(){for(var e,t,n,r,i,o,a=[],s=arguments.length;s--;)a[s]=arguments[s];var l,c,u,f=(a=V(a,"hcg"))[0],h=a[1],d=a[2];d*=255;var p=255*h;if(0===h)l=c=u=d;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var v=X(f/=60),b=f-v,g=d*(1-h),m=g+p*(1-b),y=g+p*b,k=g+p;switch(v){case 0:l=(e=[k,y,g])[0],c=e[1],u=e[2];break;case 1:l=(t=[m,k,g])[0],c=t[1],u=t[2];break;case 2:l=(n=[g,k,y])[0],c=n[1],u=n[2];break;case 3:l=(r=[g,m,k])[0],c=r[1],u=r[2];break;case 4:l=(i=[y,g,k])[0],c=i[1],u=i[2];break;case 5:l=(o=[k,g,m])[0],c=o[1],u=o[2]}}return[l,c,u,a.length>3?a[3]:1]},Z=s.unpack,K=s.type;d.prototype.hcg=function(){return Y(this._rgb)},v.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["hcg"])))},l.format.hcg=J,l.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Z(e,"hcg"),"array"===K(e)&&3===e.length)return"hcg"}});var ee=s.unpack,te=s.last,ne=Math.round,re=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=ee(e,"rgba"),r=n[0],i=n[1],o=n[2],a=n[3],s=te(e)||"auto";void 0===a&&(a=1),"auto"===s&&(s=a<1?"rgba":"rgb");var l=(r=ne(r))<<16|(i=ne(i))<<8|(o=ne(o)),c="000000"+l.toString(16);c=c.substr(c.length-6);var u="0"+ne(255*a).toString(16);switch(u=u.substr(u.length-2),s.toLowerCase()){case"rgba":return"#"+c+u;case"argb":return"#"+u+c;default:return"#"+c}},ie=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,oe=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,ae=function(e){if(e.match(ie)){4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e,16);return[t>>16,t>>8&255,255&t,1]}if(e.match(oe)){5!==e.length&&9!==e.length||(e=e.substr(1)),4===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var n=parseInt(e,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error("unknown hex color: "+e)},se=s.type;d.prototype.hex=function(e){return re(this._rgb,e)},v.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["hex"])))},l.format.hex=ae,l.autodetect.push({p:4,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===se(e)&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var le=s.unpack,ce=s.TWOPI,ue=Math.min,fe=Math.sqrt,he=Math.acos,de=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r=le(e,"rgb"),i=r[0],o=r[1],a=r[2],s=ue(i/=255,o/=255,a/=255),l=(i+o+a)/3,c=l>0?1-s/l:0;return 0===c?n=NaN:(n=(i-o+(i-a))/2,n/=fe((i-o)*(i-o)+(i-a)*(o-a)),n=he(n),a>o&&(n=ce-n),n/=ce),[360*n,c,l]},pe=s.unpack,ve=s.limit,be=s.TWOPI,ge=s.PITHIRD,me=Math.cos,ye=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,i,o=(e=pe(e,"hsi"))[0],a=e[1],s=e[2];return isNaN(o)&&(o=0),isNaN(a)&&(a=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?r=1-((i=(1-a)/3)+(n=(1+a*me(be*o)/me(ge-be*o))/3)):o<2/3?i=1-((n=(1-a)/3)+(r=(1+a*me(be*(o-=1/3))/me(ge-be*o))/3)):n=1-((r=(1-a)/3)+(i=(1+a*me(be*(o-=2/3))/me(ge-be*o))/3)),[255*(n=ve(s*n*3)),255*(r=ve(s*r*3)),255*(i=ve(s*i*3)),e.length>3?e[3]:1]},ke=s.unpack,we=s.type;d.prototype.hsi=function(){return de(this._rgb)},v.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["hsi"])))},l.format.hsi=ye,l.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=ke(e,"hsi"),"array"===we(e)&&3===e.length)return"hsi"}});var Ce=s.unpack,_e=s.type;d.prototype.hsl=function(){return P(this._rgb)},v.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["hsl"])))},l.format.hsl=I,l.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Ce(e,"hsl"),"array"===_e(e)&&3===e.length)return"hsl"}});var xe=s.unpack,Oe=Math.min,Me=Math.max,Se=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,i,o=(e=xe(e,"rgb"))[0],a=e[1],s=e[2],l=Oe(o,a,s),c=Me(o,a,s),u=c-l;return i=c/255,0===c?(n=Number.NaN,r=0):(r=u/c,o===c&&(n=(a-s)/u),a===c&&(n=2+(s-o)/u),s===c&&(n=4+(o-a)/u),(n*=60)<0&&(n+=360)),[n,r,i]},Pe=s.unpack,Te=Math.floor,ze=function(){for(var e,t,n,r,i,o,a=[],s=arguments.length;s--;)a[s]=arguments[s];var l,c,u,f=(a=Pe(a,"hsv"))[0],h=a[1],d=a[2];if(d*=255,0===h)l=c=u=d;else{360===f&&(f=0),f>360&&(f-=360),f<0&&(f+=360);var p=Te(f/=60),v=f-p,b=d*(1-h),g=d*(1-h*v),m=d*(1-h*(1-v));switch(p){case 0:l=(e=[d,m,b])[0],c=e[1],u=e[2];break;case 1:l=(t=[g,d,b])[0],c=t[1],u=t[2];break;case 2:l=(n=[b,d,m])[0],c=n[1],u=n[2];break;case 3:l=(r=[b,g,d])[0],c=r[1],u=r[2];break;case 4:l=(i=[m,b,d])[0],c=i[1],u=i[2];break;case 5:l=(o=[d,b,g])[0],c=o[1],u=o[2]}}return[l,c,u,a.length>3?a[3]:1]},Be=s.unpack,Re=s.type;d.prototype.hsv=function(){return Se(this._rgb)},v.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["hsv"])))},l.format.hsv=ze,l.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Be(e,"hsv"),"array"===Re(e)&&3===e.length)return"hsv"}});var Ae=18,Ee=.95047,Ie=1,He=1.08883,Ne=.137931034,Le=.206896552,Fe=.12841855,je=.008856452,Ue=s.unpack,qe=Math.pow,De=function(e){return(e/=255)<=.04045?e/12.92:qe((e+.055)/1.055,2.4)},$e=function(e){return e>je?qe(e,1/3):e/Fe+Ne},We=function(e,t,n){return e=De(e),t=De(t),n=De(n),[$e((.4124564*e+.3575761*t+.1804375*n)/Ee),$e((.2126729*e+.7151522*t+.072175*n)/Ie),$e((.0193339*e+.119192*t+.9503041*n)/He)]},Ge=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Ue(e,"rgb"),r=n[0],i=n[1],o=n[2],a=We(r,i,o),s=a[0],l=a[1],c=a[2],u=116*l-16;return[u<0?0:u,500*(s-l),200*(l-c)]},Qe=s.unpack,Ye=Math.pow,Ve=function(e){return 255*(e<=.00304?12.92*e:1.055*Ye(e,1/2.4)-.055)},Xe=function(e){return e>Le?e*e*e:Fe*(e-Ne)},Je=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,r,i,o=(e=Qe(e,"lab"))[0],a=e[1],s=e[2];return r=(o+16)/116,n=isNaN(a)?r:r+a/500,i=isNaN(s)?r:r-s/200,r=Ie*Xe(r),n=Ee*Xe(n),i=He*Xe(i),[Ve(3.2404542*n-1.5371385*r-.4985314*i),Ve(-.969266*n+1.8760108*r+.041556*i),Ve(.0556434*n-.2040259*r+1.0572252*i),e.length>3?e[3]:1]},Ze=s.unpack,Ke=s.type;d.prototype.lab=function(){return Ge(this._rgb)},v.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["lab"])))},l.format.lab=Je,l.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Ze(e,"lab"),"array"===Ke(e)&&3===e.length)return"lab"}});var et=s.unpack,tt=s.RAD2DEG,nt=Math.sqrt,rt=Math.atan2,it=Math.round,ot=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=et(e,"lab"),r=n[0],i=n[1],o=n[2],a=nt(i*i+o*o),s=(rt(o,i)*tt+360)%360;return 0===it(1e4*a)&&(s=Number.NaN),[r,a,s]},at=s.unpack,st=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=at(e,"rgb"),r=n[0],i=n[1],o=n[2],a=Ge(r,i,o),s=a[0],l=a[1],c=a[2];return ot(s,l,c)},lt=s.unpack,ct=s.DEG2RAD,ut=Math.sin,ft=Math.cos,ht=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=lt(e,"lch"),r=n[0],i=n[1],o=n[2];return isNaN(o)&&(o=0),[r,ft(o*=ct)*i,ut(o)*i]},dt=s.unpack,pt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=dt(e,"lch"))[0],r=e[1],i=e[2],o=ht(n,r,i),a=o[0],s=o[1],l=o[2],c=Je(a,s,l),u=c[0],f=c[1],h=c[2];return[u,f,h,e.length>3?e[3]:1]},vt=s.unpack,bt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=vt(e,"hcl").reverse();return pt.apply(void 0,n)},gt=s.unpack,mt=s.type;d.prototype.lch=function(){return st(this._rgb)},d.prototype.hcl=function(){return st(this._rgb).reverse()},v.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["lch"])))},v.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["hcl"])))},l.format.lch=pt,l.format.hcl=bt,["lch","hcl"].forEach((function(e){return l.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t=gt(t,e),"array"===mt(t)&&3===t.length)return e}})}));var yt={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},kt=s.type;d.prototype.name=function(){for(var e=re(this._rgb,"rgb"),t=0,n=Object.keys(yt);t<n.length;t+=1){var r=n[t];if(yt[r]===e)return r.toLowerCase()}return e},l.format.named=function(e){if(e=e.toLowerCase(),yt[e])return ae(yt[e]);throw new Error("unknown color name: "+e)},l.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===kt(e)&&yt[e.toLowerCase()])return"named"}});var wt=s.unpack,Ct=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=wt(e,"rgb"),r=n[0],i=n[1],o=n[2];return(r<<16)+(i<<8)+o},_t=s.type,xt=function(e){if("number"==_t(e)&&e>=0&&e<=16777215)return[e>>16,e>>8&255,255&e,1];throw new Error("unknown num color: "+e)},Ot=s.type;d.prototype.num=function(){return Ct(this._rgb)},v.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["num"])))},l.format.num=xt,l.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(1===e.length&&"number"===Ot(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var Mt=s.unpack,St=s.type,Pt=Math.round;d.prototype.rgb=function(e){return void 0===e&&(e=!0),!1===e?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Pt)},d.prototype.rgba=function(e){return void 0===e&&(e=!0),this._rgb.slice(0,4).map((function(t,n){return n<3?!1===e?t:Pt(t):t}))},v.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["rgb"])))},l.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Mt(e,"rgba");return void 0===n[3]&&(n[3]=1),n},l.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e=Mt(e,"rgba"),"array"===St(e)&&(3===e.length||4===e.length&&"number"==St(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var Tt=Math.log,zt=function(e){var t,n,r,i=e/100;return i<66?(t=255,n=-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*Tt(n),r=i<20?0:.8274096064007395*(r=i-10)-254.76935184120902+115.67994401066147*Tt(r)):(t=351.97690566805693+.114206453784165*(t=i-55)-40.25366309332127*Tt(t),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*Tt(n),r=255),[t,n,r,1]},Bt=s.unpack,Rt=Math.round,At=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n,r=Bt(e,"rgb"),i=r[0],o=r[2],a=1e3,s=4e4,l=.4;s-a>l;){var c=zt(n=.5*(s+a));c[2]/c[0]>=o/i?s=n:a=n}return Rt(n)};d.prototype.temp=d.prototype.kelvin=d.prototype.temperature=function(){return At(this._rgb)},v.temp=v.kelvin=v.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(d,[null].concat(e,["temp"])))},l.format.temp=l.format.kelvin=l.format.temperature=zt;var Et=s.type;d.prototype.alpha=function(e,t){return void 0===t&&(t=!1),void 0!==e&&"number"===Et(e)?t?(this._rgb[3]=e,this):new d([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},d.prototype.clipped=function(){return this._rgb._clipped||!1},d.prototype.darken=function(e){void 0===e&&(e=1);var t=this.lab();return t[0]-=Ae*e,new d(t,"lab").alpha(this.alpha(),!0)},d.prototype.brighten=function(e){return void 0===e&&(e=1),this.darken(-e)},d.prototype.darker=d.prototype.darken,d.prototype.brighter=d.prototype.brighten,d.prototype.get=function(e){var t=e.split("."),n=t[0],r=t[1],i=this[n]();if(r){var o=n.indexOf(r);if(o>-1)return i[o];throw new Error("unknown channel "+r+" in mode "+n)}return i};var It=s.type,Ht=Math.pow;d.prototype.luminance=function(e){if(void 0!==e&&"number"===It(e)){if(0===e)return new d([0,0,0,this._rgb[3]],"rgb");if(1===e)return new d([255,255,255,this._rgb[3]],"rgb");var t=this.luminance(),n=20,r=function(t,i){var o=t.interpolate(i,.5,"rgb"),a=o.luminance();return Math.abs(e-a)<1e-7||!n--?o:a>e?r(t,o):r(o,i)},i=(t>e?r(new d([0,0,0]),this):r(this,new d([255,255,255]))).rgb();return new d(i.concat([this._rgb[3]]))}return Nt.apply(void 0,this._rgb.slice(0,3))};var Nt=function(e,t,n){return.2126*(e=Lt(e))+.7152*(t=Lt(t))+.0722*(n=Lt(n))},Lt=function(e){return(e/=255)<=.03928?e/12.92:Ht((e+.055)/1.055,2.4)},Ft={},jt=s.type,Ut=function(e,t,n){void 0===n&&(n=.5);for(var r=[],i=arguments.length-3;i-- >0;)r[i]=arguments[i+3];var o=r[0]||"lrgb";if(Ft[o]||r.length||(o=Object.keys(Ft)[0]),!Ft[o])throw new Error("interpolation mode "+o+" is not defined");return"object"!==jt(e)&&(e=new d(e)),"object"!==jt(t)&&(t=new d(t)),Ft[o](e,t,n).alpha(e.alpha()+n*(t.alpha()-e.alpha()))};d.prototype.mix=d.prototype.interpolate=function(e,t){void 0===t&&(t=.5);for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return Ut.apply(void 0,[this,e,t].concat(n))},d.prototype.premultiply=function(e){void 0===e&&(e=!1);var t=this._rgb,n=t[3];return e?(this._rgb=[t[0]*n,t[1]*n,t[2]*n,n],this):new d([t[0]*n,t[1]*n,t[2]*n,n],"rgb")},d.prototype.saturate=function(e){void 0===e&&(e=1);var t=this.lch();return t[1]+=Ae*e,t[1]<0&&(t[1]=0),new d(t,"lch").alpha(this.alpha(),!0)},d.prototype.desaturate=function(e){return void 0===e&&(e=1),this.saturate(-e)};var qt=s.type;d.prototype.set=function(e,t,n){void 0===n&&(n=!1);var r=e.split("."),i=r[0],o=r[1],a=this[i]();if(o){var s=i.indexOf(o);if(s>-1){if("string"==qt(t))switch(t.charAt(0)){case"+":case"-":a[s]+=+t;break;case"*":a[s]*=+t.substr(1);break;case"/":a[s]/=+t.substr(1);break;default:a[s]=+t}else{if("number"!==qt(t))throw new Error("unsupported value for Color.set");a[s]=t}var l=new d(a,i);return n?(this._rgb=l._rgb,this):l}throw new Error("unknown channel "+o+" in mode "+i)}return a},Ft.rgb=function(e,t,n){var r=e._rgb,i=t._rgb;return new d(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"rgb")};var Dt=Math.sqrt,$t=Math.pow;Ft.lrgb=function(e,t,n){var r=e._rgb,i=r[0],o=r[1],a=r[2],s=t._rgb,l=s[0],c=s[1],u=s[2];return new d(Dt($t(i,2)*(1-n)+$t(l,2)*n),Dt($t(o,2)*(1-n)+$t(c,2)*n),Dt($t(a,2)*(1-n)+$t(u,2)*n),"rgb")},Ft.lab=function(e,t,n){var r=e.lab(),i=t.lab();return new d(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"lab")};var Wt=function(e,t,n,r){var i,o,a,s,l,c,u,f,h,p,v,b;return"hsl"===r?(a=e.hsl(),s=t.hsl()):"hsv"===r?(a=e.hsv(),s=t.hsv()):"hcg"===r?(a=e.hcg(),s=t.hcg()):"hsi"===r?(a=e.hsi(),s=t.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",a=e.hcl(),s=t.hcl()),"h"===r.substr(0,1)&&(l=(i=a)[0],u=i[1],h=i[2],c=(o=s)[0],f=o[1],p=o[2]),isNaN(l)||isNaN(c)?isNaN(l)?isNaN(c)?b=Number.NaN:(b=c,1!=h&&0!=h||"hsv"==r||(v=f)):(b=l,1!=p&&0!=p||"hsv"==r||(v=u)):b=l+n*(c>l&&c-l>180?c-(l+360):c<l&&l-c>180?c+360-l:c-l),void 0===v&&(v=u+n*(f-u)),new d([b,v,h+n*(p-h)],r)},Gt=function(e,t,n){return Wt(e,t,n,"lch")};Ft.lch=Gt,Ft.hcl=Gt,Ft.num=function(e,t,n){var r=e.num(),i=t.num();return new d(r+n*(i-r),"num")},Ft.hcg=function(e,t,n){return Wt(e,t,n,"hcg")},Ft.hsi=function(e,t,n){return Wt(e,t,n,"hsi")},Ft.hsl=function(e,t,n){return Wt(e,t,n,"hsl")},Ft.hsv=function(e,t,n){return Wt(e,t,n,"hsv")};var Qt=s.clip_rgb,Yt=Math.pow,Vt=Math.sqrt,Xt=Math.PI,Jt=Math.cos,Zt=Math.sin,Kt=Math.atan2,en=function(e,t){for(var n=e.length,r=[0,0,0,0],i=0;i<e.length;i++){var o=e[i],a=t[i]/n,s=o._rgb;r[0]+=Yt(s[0],2)*a,r[1]+=Yt(s[1],2)*a,r[2]+=Yt(s[2],2)*a,r[3]+=s[3]*a}return r[0]=Vt(r[0]),r[1]=Vt(r[1]),r[2]=Vt(r[2]),r[3]>.9999999&&(r[3]=1),new d(Qt(r))},tn=s.type,nn=Math.pow,rn=function(e){var t="rgb",n=v("#ccc"),r=0,i=[0,1],o=[],a=[0,0],s=!1,l=[],c=!1,u=0,f=1,h=!1,d={},p=!0,b=1,g=function(e){if((e=e||["#fff","#000"])&&"string"===tn(e)&&v.brewer&&v.brewer[e.toLowerCase()]&&(e=v.brewer[e.toLowerCase()]),"array"===tn(e)){1===e.length&&(e=[e[0],e[0]]),e=e.slice(0);for(var t=0;t<e.length;t++)e[t]=v(e[t]);o.length=0;for(var n=0;n<e.length;n++)o.push(n/(e.length-1))}return w(),l=e},m=function(e){return e},y=function(e){return e},k=function(e,r){var i,c;if(null==r&&(r=!1),isNaN(e)||null===e)return n;c=r?e:s&&s.length>2?function(e){if(null!=s){for(var t=s.length-1,n=0;n<t&&e>=s[n];)n++;return n-1}return 0}(e)/(s.length-2):f!==u?(e-u)/(f-u):1,c=y(c),r||(c=m(c)),1!==b&&(c=nn(c,b)),c=a[0]+c*(1-a[0]-a[1]),c=Math.min(1,Math.max(0,c));var h=Math.floor(1e4*c);if(p&&d[h])i=d[h];else{if("array"===tn(l))for(var g=0;g<o.length;g++){var k=o[g];if(c<=k){i=l[g];break}if(c>=k&&g===o.length-1){i=l[g];break}if(c>k&&c<o[g+1]){c=(c-k)/(o[g+1]-k),i=v.interpolate(l[g],l[g+1],c,t);break}}else"function"===tn(l)&&(i=l(c));p&&(d[h]=i)}return i},w=function(){return d={}};g(e);var C=function(e){var t=v(k(e));return c&&t[c]?t[c]():t};return C.classes=function(e){if(null!=e){if("array"===tn(e))s=e,i=[e[0],e[e.length-1]];else{var t=v.analyze(i);s=0===e?[t.min,t.max]:v.limits(t,"e",e)}return C}return s},C.domain=function(e){if(!arguments.length)return i;u=e[0],f=e[e.length-1],o=[];var t=l.length;if(e.length===t&&u!==f)for(var n=0,r=Array.from(e);n<r.length;n+=1){var a=r[n];o.push((a-u)/(f-u))}else{for(var s=0;s<t;s++)o.push(s/(t-1));if(e.length>2){var c=e.map((function(t,n){return n/(e.length-1)})),h=e.map((function(e){return(e-u)/(f-u)}));h.every((function(e,t){return c[t]===e}))||(y=function(e){if(e<=0||e>=1)return e;for(var t=0;e>=h[t+1];)t++;var n=(e-h[t])/(h[t+1]-h[t]);return c[t]+n*(c[t+1]-c[t])})}}return i=[u,f],C},C.mode=function(e){return arguments.length?(t=e,w(),C):t},C.range=function(e,t){return g(e),C},C.out=function(e){return c=e,C},C.spread=function(e){return arguments.length?(r=e,C):r},C.correctLightness=function(e){return null==e&&(e=!0),h=e,w(),m=h?function(e){for(var t=k(0,!0).lab()[0],n=k(1,!0).lab()[0],r=t>n,i=k(e,!0).lab()[0],o=t+(n-t)*e,a=i-o,s=0,l=1,c=20;Math.abs(a)>.01&&c-- >0;)r&&(a*=-1),a<0?(s=e,e+=.5*(l-e)):(l=e,e+=.5*(s-e)),i=k(e,!0).lab()[0],a=i-o;return e}:function(e){return e},C},C.padding=function(e){return null!=e?("number"===tn(e)&&(e=[e,e]),a=e,C):a},C.colors=function(t,n){arguments.length<2&&(n="hex");var r=[];if(0===arguments.length)r=l.slice(0);else if(1===t)r=[C(.5)];else if(t>1){var o=i[0],a=i[1]-o;r=on(0,t,!1).map((function(e){return C(o+e/(t-1)*a)}))}else{e=[];var c=[];if(s&&s.length>2)for(var u=1,f=s.length,h=1<=f;h?u<f:u>f;h?u++:u--)c.push(.5*(s[u-1]+s[u]));else c=i;r=c.map((function(e){return C(e)}))}return v[n]&&(r=r.map((function(e){return e[n]()}))),r},C.cache=function(e){return null!=e?(p=e,C):p},C.gamma=function(e){return null!=e?(b=e,C):b},C.nodata=function(e){return null!=e?(n=v(e),C):n},C};function on(e,t,n){for(var r=[],i=e<t,o=n?i?t+1:t-1:t,a=e;i?a<o:a>o;i?a++:a--)r.push(a);return r}var an=function(e){var t,n,r,i,o,a,s;if(2===(e=e.map((function(e){return new d(e)}))).length)t=e.map((function(e){return e.lab()})),o=t[0],a=t[1],i=function(e){var t=[0,1,2].map((function(t){return o[t]+e*(a[t]-o[t])}));return new d(t,"lab")};else if(3===e.length)n=e.map((function(e){return e.lab()})),o=n[0],a=n[1],s=n[2],i=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*o[t]+2*(1-e)*e*a[t]+e*e*s[t]}));return new d(t,"lab")};else if(4===e.length){var l;r=e.map((function(e){return e.lab()})),o=r[0],a=r[1],s=r[2],l=r[3],i=function(e){var t=[0,1,2].map((function(t){return(1-e)*(1-e)*(1-e)*o[t]+3*(1-e)*(1-e)*e*a[t]+3*(1-e)*e*e*s[t]+e*e*e*l[t]}));return new d(t,"lab")}}else if(5===e.length){var c=an(e.slice(0,3)),u=an(e.slice(2,5));i=function(e){return e<.5?c(2*e):u(2*(e-.5))}}return i},sn=function(e,t,n){if(!sn[n])throw new Error("unknown blend mode "+n);return sn[n](e,t)},ln=function(e){return function(t,n){var r=v(n).rgb(),i=v(t).rgb();return v.rgb(e(r,i))}},cn=function(e){return function(t,n){var r=[];return r[0]=e(t[0],n[0]),r[1]=e(t[1],n[1]),r[2]=e(t[2],n[2]),r}};sn.normal=ln(cn((function(e){return e}))),sn.multiply=ln(cn((function(e,t){return e*t/255}))),sn.screen=ln(cn((function(e,t){return 255*(1-(1-e/255)*(1-t/255))}))),sn.overlay=ln(cn((function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))}))),sn.darken=ln(cn((function(e,t){return e>t?t:e}))),sn.lighten=ln(cn((function(e,t){return e>t?e:t}))),sn.dodge=ln(cn((function(e,t){return 255===e?255:(e=t/255*255/(1-e/255))>255?255:e}))),sn.burn=ln(cn((function(e,t){return 255*(1-(1-t/255)/(e/255))})));for(var un=sn,fn=s.type,hn=s.clip_rgb,dn=s.TWOPI,pn=Math.pow,vn=Math.sin,bn=Math.cos,gn=Math.floor,mn=Math.random,yn=Math.log,kn=Math.pow,wn=Math.floor,Cn=Math.abs,_n=function(e,t){void 0===t&&(t=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===o(e)&&(e=Object.values(e)),e.forEach((function(e){t&&"object"===o(e)&&(e=e[t]),null==e||isNaN(e)||(n.values.push(e),n.sum+=e,e<n.min&&(n.min=e),e>n.max&&(n.max=e),n.count+=1)})),n.domain=[n.min,n.max],n.limits=function(e,t){return xn(n,e,t)},n},xn=function(e,t,n){void 0===t&&(t="equal"),void 0===n&&(n=7),"array"==o(e)&&(e=_n(e));var r=e.min,i=e.max,a=e.values.sort((function(e,t){return e-t}));if(1===n)return[r,i];var s=[];if("c"===t.substr(0,1)&&(s.push(r),s.push(i)),"e"===t.substr(0,1)){s.push(r);for(var l=1;l<n;l++)s.push(r+l/n*(i-r));s.push(i)}else if("l"===t.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var c=Math.LOG10E*yn(r),u=Math.LOG10E*yn(i);s.push(r);for(var f=1;f<n;f++)s.push(kn(10,c+f/n*(u-c)));s.push(i)}else if("q"===t.substr(0,1)){s.push(r);for(var h=1;h<n;h++){var d=(a.length-1)*h/n,p=wn(d);if(p===d)s.push(a[p]);else{var v=d-p;s.push(a[p]*(1-v)+a[p+1]*v)}}s.push(i)}else if("k"===t.substr(0,1)){var b,g=a.length,m=new Array(g),y=new Array(n),k=!0,w=0,C=null;(C=[]).push(r);for(var _=1;_<n;_++)C.push(r+_/n*(i-r));for(C.push(i);k;){for(var x=0;x<n;x++)y[x]=0;for(var O=0;O<g;O++)for(var M=a[O],S=Number.MAX_VALUE,P=void 0,T=0;T<n;T++){var z=Cn(C[T]-M);z<S&&(S=z,P=T),y[P]++,m[O]=P}for(var B=new Array(n),R=0;R<n;R++)B[R]=null;for(var A=0;A<g;A++)null===B[b=m[A]]?B[b]=a[A]:B[b]+=a[A];for(var E=0;E<n;E++)B[E]*=1/y[E];k=!1;for(var I=0;I<n;I++)if(B[I]!==C[I]){k=!0;break}C=B,++w>200&&(k=!1)}for(var H={},N=0;N<n;N++)H[N]=[];for(var L=0;L<g;L++)H[b=m[L]].push(a[L]);for(var F=[],j=0;j<n;j++)F.push(H[j][0]),F.push(H[j][H[j].length-1]);F=F.sort((function(e,t){return e-t})),s.push(F[0]);for(var U=1;U<F.length;U+=2){var q=F[U];isNaN(q)||-1!==s.indexOf(q)||s.push(q)}}return s},On={analyze:_n,limits:xn},Mn=Math.sqrt,Sn=Math.atan2,Pn=Math.abs,Tn=Math.cos,zn=Math.PI,Bn={cool:function(){return rn([v.hsl(180,1,.9),v.hsl(250,.7,.4)])},hot:function(){return rn(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Rn={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},An=0,En=Object.keys(Rn);An<En.length;An+=1){var In=En[An];Rn[In.toLowerCase()]=Rn[In]}var Hn=Rn;return v.average=function(e,t,n){void 0===t&&(t="lrgb"),void 0===n&&(n=null);var r=e.length;n||(n=Array.from(new Array(r)).map((function(){return 1})));var i=r/n.reduce((function(e,t){return e+t}));if(n.forEach((function(e,t){n[t]*=i})),e=e.map((function(e){return new d(e)})),"lrgb"===t)return en(e,n);for(var o=e.shift(),a=o.get(t),s=[],l=0,c=0,u=0;u<a.length;u++)if(a[u]=(a[u]||0)*n[0],s.push(isNaN(a[u])?0:n[0]),"h"===t.charAt(u)&&!isNaN(a[u])){var f=a[u]/180*Xt;l+=Jt(f)*n[0],c+=Zt(f)*n[0]}var h=o.alpha()*n[0];e.forEach((function(e,r){var i=e.get(t);h+=e.alpha()*n[r+1];for(var o=0;o<a.length;o++)if(!isNaN(i[o]))if(s[o]+=n[r+1],"h"===t.charAt(o)){var u=i[o]/180*Xt;l+=Jt(u)*n[r+1],c+=Zt(u)*n[r+1]}else a[o]+=i[o]*n[r+1]}));for(var p=0;p<a.length;p++)if("h"===t.charAt(p)){for(var v=Kt(c/s[p],l/s[p])/Xt*180;v<0;)v+=360;for(;v>=360;)v-=360;a[p]=v}else a[p]=a[p]/s[p];return h/=r,new d(a,t).alpha(h>.99999?1:h,!0)},v.bezier=function(e){var t=an(e);return t.scale=function(){return rn(t)},t},v.blend=un,v.cubehelix=function(e,t,n,r,i){void 0===e&&(e=300),void 0===t&&(t=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=[0,1]);var o,a=0;"array"===fn(i)?o=i[1]-i[0]:(o=0,i=[i,i]);var s=function(s){var l=dn*((e+120)/360+t*s),c=pn(i[0]+o*s,r),u=(0!==a?n[0]+s*a:n)*c*(1-c)/2,f=bn(l),h=vn(l);return v(hn([255*(c+u*(-.14861*f+1.78277*h)),255*(c+u*(-.29227*f-.90649*h)),255*(c+u*(1.97294*f)),1]))};return s.start=function(t){return null==t?e:(e=t,s)},s.rotations=function(e){return null==e?t:(t=e,s)},s.gamma=function(e){return null==e?r:(r=e,s)},s.hue=function(e){return null==e?n:("array"===fn(n=e)?0==(a=n[1]-n[0])&&(n=n[1]):a=0,s)},s.lightness=function(e){return null==e?i:("array"===fn(e)?(i=e,o=e[1]-e[0]):(i=[e,e],o=0),s)},s.scale=function(){return v.scale(s)},s.hue(n),s},v.mix=v.interpolate=Ut,v.random=function(){for(var e="#",t=0;t<6;t++)e+="0123456789abcdef".charAt(gn(16*mn()));return new d(e,"hex")},v.scale=rn,v.analyze=On.analyze,v.contrast=function(e,t){e=new d(e),t=new d(t);var n=e.luminance(),r=t.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},v.deltaE=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1),e=new d(e),t=new d(t);for(var i=Array.from(e.lab()),o=i[0],a=i[1],s=i[2],l=Array.from(t.lab()),c=l[0],u=l[1],f=l[2],h=Mn(a*a+s*s),p=Mn(u*u+f*f),v=o<16?.511:.040975*o/(1+.01765*o),b=.0638*h/(1+.0131*h)+.638,g=h<1e-6?0:180*Sn(s,a)/zn;g<0;)g+=360;for(;g>=360;)g-=360;var m=g>=164&&g<=345?.56+Pn(.2*Tn(zn*(g+168)/180)):.36+Pn(.4*Tn(zn*(g+35)/180)),y=h*h*h*h,k=Mn(y/(y+1900)),w=b*(k*m+1-k),C=h-p,_=a-u,x=s-f,O=(o-c)/(n*v),M=C/(r*b);return Mn(O*O+M*M+(_*_+x*x-C*C)/(w*w))},v.distance=function(e,t,n){void 0===n&&(n="lab"),e=new d(e),t=new d(t);var r=e.get(n),i=t.get(n),o=0;for(var a in r){var s=(r[a]||0)-(i[a]||0);o+=s*s}return Math.sqrt(o)},v.limits=On.limits,v.valid=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(d,[null].concat(e))),!0}catch(e){return!1}},v.scales=Bn,v.colors=yt,v.brewer=Hn,v}()}]);